<div class="min-h-screen flex flex-col px-6 py-10 bg-white">
  <!-- Header -->
  <div class="mb-8">
    <button class="text-2xl mb-6" (click)="goBack()" aria-label="Volver">â†</button>
    <h1 class="text-3xl font-bold mb-6 text-gray-800">Registrarse</h1>
  </div>

  <!-- Password Hint Info -->
  <div class="mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg">
    <h2 class="text-lg font-semibold text-blue-800 mb-3">ğŸ’¡ Consejo para tu contraseÃ±a</h2>
    <p class="text-blue-700 mb-3">Tu contraseÃ±a puede ser tu animal favorito. AquÃ­ tienes algunas opciones:</p>
    <div class="grid grid-cols-2 gap-2">
      <span 
        *ngFor="let animal of animalList" 
        class="px-3 py-2 bg-blue-100 text-blue-800 rounded-full text-center text-sm font-medium"
      >
        {{ animal }}
      </span>
    </div>
    <p class="text-sm text-blue-600 mt-3">
      Puedes usar cualquiera de estos animales en inglÃ©s o espaÃ±ol como contraseÃ±a
    </p>
  </div>

  <!-- Success Message -->
  <div *ngIf="successMessage" class="mb-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg">
    {{ successMessage }}
  </div>

  <!-- Error Message -->
  <div *ngIf="errorMessage" class="mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg">
    {{ errorMessage }}
  </div>

  <!-- Form -->
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="space-y-6">
    <!-- Nombre completo -->
    <div>
      <label class="block mb-3 text-gray-700 text-lg font-medium">Nombre completo</label>
      <input
        type="text"
        class="w-full px-4 py-4 text-lg border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none"
        placeholder="Ingresa tu nombre completo"
        formControlName="fullName"
        [class.border-red-500]="registerForm.get('fullName')?.invalid && registerForm.get('fullName')?.touched"
      />
      <div *ngIf="registerForm.get('fullName')?.invalid && registerForm.get('fullName')?.touched" class="text-red-600 text-sm mt-1">
        El nombre completo es requerido (mÃ­nimo 3 caracteres)
      </div>
    </div>

    <!-- Nombre de usuario -->
    <div>
      <label class="block mb-3 text-gray-700 text-lg font-medium">Nombre de usuario</label>
      <input
        type="text"
        class="w-full px-4 py-4 text-lg border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none"
        placeholder="Ingresa tu nombre de usuario"
        formControlName="username"
        [class.border-red-500]="registerForm.get('username')?.invalid && registerForm.get('username')?.touched"
      />
      <div *ngIf="registerForm.get('username')?.invalid && registerForm.get('username')?.touched" class="text-red-600 text-sm mt-1">
        El nombre de usuario debe tener entre 3 y 20 caracteres
      </div>
    </div>

    <!-- Correo electrÃ³nico -->
    <div>
      <label class="block mb-3 text-gray-700 text-lg font-medium">Correo electrÃ³nico</label>
      <input
        type="email"
        class="w-full px-4 py-4 text-lg border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none"
        placeholder="Ingresa tu correo electrÃ³nico"
        formControlName="email"
        [class.border-red-500]="registerForm.get('email')?.invalid && registerForm.get('email')?.touched"
      />
      <div *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched" class="text-red-600 text-sm mt-1">
        Ingresa un correo electrÃ³nico vÃ¡lido
      </div>
    </div>

    <!-- ContraseÃ±a -->
    <div>
      <label class="block mb-3 text-gray-700 text-lg font-medium">ContraseÃ±a</label>
      <div class="relative">
        <input
          [type]="showPassword ? 'text' : 'password'"
          class="w-full px-4 py-4 pr-12 text-lg border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none"
          placeholder="Ingresa tu contraseÃ±a"
          formControlName="password"
          [class.border-red-500]="registerForm.get('password')?.invalid && registerForm.get('password')?.touched"
        />
        <button
          type="button"
          class="absolute inset-y-0 right-3 flex items-center text-gray-500 text-xl"
          (click)="togglePasswordVisibility()"
          aria-label="Mostrar/ocultar contraseÃ±a"
        >
          {{ showPassword ? 'ğŸ™ˆ' : 'ğŸ‘ï¸' }}
        </button>
      </div>
      <div *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched" class="text-red-600 text-sm mt-1">
        La contraseÃ±a debe tener al menos 8 caracteres
      </div>
    </div>

    <!-- Confirmar contraseÃ±a -->
    <div>
      <label class="block mb-3 text-gray-700 text-lg font-medium">Confirmar contraseÃ±a</label>
      <div class="relative">
        <input
          [type]="showConfirmPassword ? 'text' : 'password'"
          class="w-full px-4 py-4 pr-12 text-lg border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none"
          placeholder="Confirma tu contraseÃ±a"
          formControlName="confirmPassword"
          [class.border-red-500]="registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched"
        />
        <button
          type="button"
          class="absolute inset-y-0 right-3 flex items-center text-gray-500 text-xl"
          (click)="toggleConfirmPasswordVisibility()"
          aria-label="Mostrar/ocultar confirmaciÃ³n de contraseÃ±a"
        >
          {{ showConfirmPassword ? 'ğŸ™ˆ' : 'ğŸ‘ï¸' }}
        </button>
      </div>
      <div *ngIf="registerForm.errors?.['mismatch'] && registerForm.get('confirmPassword')?.touched" class="text-red-600 text-sm mt-1">
        Las contraseÃ±as no coinciden
      </div>
    </div>

    <!-- Submit Button -->
    <button
      type="submit"
      [disabled]="registerForm.invalid || isLoading"
      class="w-full py-4 rounded-full bg-blue-500 text-white font-semibold text-xl hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed"
    >
      <span *ngIf="isLoading">Registrando...</span>
      <span *ngIf="!isLoading">Registrarse</span>
    </button>
  </form>

  <!-- Login Link -->
  <div class="text-center mt-8">
    <p class="text-lg text-gray-600">
      Â¿Ya tienes una cuenta?
      <a routerLink="/auth/login" class="text-blue-600 font-semibold hover:text-blue-800 underline">
        Inicia sesiÃ³n aquÃ­
      </a>
    </p>
  </div>
</div>
