<div class="min-h-screen bg-gray-50 flex flex-col">
    <!-- Header -->
    <header class="bg-white flex items-center justify-between px-6 py-4 border-b border-gray-200 shadow-sm">
      <div class="flex items-center space-x-4">
        <button 
          class="text-2xl p-2 hover:bg-gray-100 rounded-full transition-colors"
          (click)="goBack()"
        >
          â†
        </button>
        <h1 class="text-xl font-bold text-gray-900">Actividades</h1>
      </div>
    </header>

    <!-- Main Content -->
    <main class="flex-1 px-6 py-6 pb-24">
      <!-- Loading State -->
      <div *ngIf="isLoading$ | async" class="text-center py-8">
        <div class="text-4xl mb-4">â³</div>
        <p class="text-gray-500">Cargando actividades...</p>
      </div>

      <!-- Activities List -->
      <div *ngIf="!(isLoading$ | async)" class="mb-6">
        <h2 class="text-lg font-semibold text-gray-900 mb-4">Actividades Disponibles</h2>
        
        <!-- Activities Grid -->
        <div class="space-y-4" *ngIf="(activities$ | async) as activities">
          <app-activity-card
            *ngFor="let activity of activities; trackBy: trackByActivityId"
            [activity]="activity"
            [isLoading]="false"
            (joinActivity)="onJoinActivity($event)"
            (leaveActivity)="onLeaveActivity($event)"
          ></app-activity-card>
        </div>

        <!-- Empty State -->
        <div *ngIf="(activities$ | async)?.length === 0" class="text-center py-12">
          <div class="text-6xl mb-4">ğŸ“…</div>
          <h3 class="text-lg font-semibold text-gray-900 mb-2">No hay actividades disponibles</h3>
          <p class="text-gray-500 mb-4">SÃ© el primero en crear una actividad</p>
          <button 
            class="px-6 py-3 bg-green-500 text-white rounded-lg font-medium hover:bg-green-600 transition-colors"
            (click)="createActivity()"
          >
            Crear Primera Actividad
          </button>
        </div>
      </div>
    </main>

    <!-- Floating Action Button -->
    <button 
      class="fixed bottom-25 right-6 w-14 h-14 bg-green-500 hover:bg-green-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center text-2xl z-10"
      (click)="createActivity()"
      [attr.aria-label]="'Crear nueva actividad'"
    >
      +
    </button>

    <!-- Create Activity Modal -->
    <app-create-activity-modal
      [isVisible]="showCreateModal"
      (close)="onCreateModalClose()"
      (activityCreated)="onActivityCreated()"
    ></app-create-activity-modal>

    <!-- Bottom Navigation -->
    <app-bottom-nav></app-bottom-nav>
</div>